{
	"name": "Git Commit Message",
	"scopeName": "text.git-commit",
	"patterns": [
		{
			"comment": "diff presented at the end of the commit message when using commit -v.",
			"name": "meta.embedded.diff.git-commit",
			"contentName": "source.diff",
			"begin": "(?=^diff\\ \\-\\-git)",
			"end": "\\z",
			"patterns": [ { "include": "source.diff" } ]
		},
		{
			"comment": "User supplied message",
			"name": "meta.scope.message.git-commit",
			"begin": "^(?!#)",
			"end": "^(?=#)"
		},
		{
			"comment": "Git supplied metadata in a number of lines starting with #",
			"name": "meta.scope.metadata.git-commit",
			"begin": "^(?=#)",
			"end": "(?!^#)",
			"patterns": [
				{
					"comment": "Changes to be committed:",
					"match": "^# .+:$",
					"name": "markup.heading.git-commit",
					"patterns": [ { "include": "#comment" } ]
				},
				{
					"comment": "Files and what is happening to them",
					"match": "^#\\t([^:]+): *(.*)$",
					"name": "comment.line.number-sign.git-commit",
					"captures": {
						"1": { "name": "keyword.other.file-type.git-commit" },
						"2": { "name": "string.unquoted.filename.git-commit" }
					}
				},
				{ "include": "#comment" }
			]
		}
	],
	"repository": {
		"comment": {
			"name": "comment.line.number-sign.git-commit",
			"match": "^#.*$"
		}
	}
}
